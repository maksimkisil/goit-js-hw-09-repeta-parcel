{"version":3,"sources":["js/app.js","js/gallery.js","index.js"],"names":["preview","original","description","gallery","refs","ulJsEl","document","querySelector","liEl","divJSLightboxEl","closeBtn","modalImageEl","modalIsOpen","imageCardNextSibling","closeModalWindow","classList","remove","src","alt","insertAdjacentHTML","createGalleryItems","items","reduce","acc","galleryItems","addEventListener","onImageClick","e","preventDefault","target","contains","openModalWindow","source","dataset","closest","nextElementSibling","add","clickToOverlay","window","keydownToEsc","keyCode","keydownToArrowRightAndLeft","clickToLeftArrow","clickToRightArrow","foundIndex","findIndex","item","length","HTMLImageElement","prototype","console","log","addSrcAttrToLazyImages","lazyImages","querySelectorAll","onImageLoaded","forEach","image","once","img","addLazySizesScript","script","createElement","integrity","crossorigin","referrerpolicy","body","appendChild"],"mappings":";AAsRA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EArRe,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,wBAGf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,wBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,mBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,6BAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,qBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,iBAEf,CACEF,QACE,+EACFC,SACE,+EACFC,YAAa,oBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,yBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,yBAEf,CACEF,QACE,yEACFC,SACE,yEACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,wBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,yBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,yBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,oBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,wBAEf,CACEF,QACE,iFACFC,SACE,iFACFC,YAAa,mBAEf,CACEF,QACE,gFAC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","file":"src.271df418.js","sourceRoot":"..\\src","sourcesContent":["// const galleryItems = [\nexport default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n  // доп.задание - добавить ленивую загрузку, если много картинок\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/12/15/02/53/flower-3876195_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/12/15/02/53/flower-3876195_960_720.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/03/26/16/38/nature-3263198_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/03/26/16/38/nature-3263198_960_720.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/02/09/21/46/rose-3142529_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/02/09/21/46/rose-3142529_960_720.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/02/08/22/27/flower-3140492_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/02/08/22/27/flower-3140492_960_720.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/01/05/16/24/rose-3063284_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/01/05/16/24/rose-3063284_960_720.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/02/17/19/08/lotus-1205631_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/02/17/19/08/lotus-1205631_960_720.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/10/09/00/55/lotus-978659_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/10/09/00/55/lotus-978659_960_720.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/33/flower-729512_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/33/flower-729512_960_720.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510_960_720.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/rose-729509_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/04/19/08/32/rose-729509_960_720.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2013/07/21/13/00/rose-165819_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2013/07/21/13/00/rose-165819_960_720.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2021/05/14/10/00/flowers-6253005_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2021/05/14/10/00/flowers-6253005_960_720.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295436_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295436_960_720.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295431_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/bird-2295431_960_720.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/05/08/13/15/spring-bird-2295434_960_720.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/03/13/10/25/hummingbird-2139279_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/03/13/10/25/hummingbird-2139279_960_720.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2017/02/07/16/47/kingfisher-2046453_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2017/02/07/16/47/kingfisher-2046453_960_720.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/12/14/owl-1834152_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/12/14/owl-1834152_960_720.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/11/16/16/28/bird-1045954_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/11/16/16/28/bird-1045954_960_720.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/08/09/13/30/kingfisher-881594_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/08/09/13/30/kingfisher-881594_960_720.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2014/11/28/01/01/jay-548381_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2014/11/28/01/01/jay-548381_960_720.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2014/04/14/20/11/pink-324175_960_720.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2012/06/19/10/32/owl-50267_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2012/06/19/10/32/owl-50267_960_720.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2011/09/27/18/52/bird-9950_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2011/09/27/18/52/bird-9950_960_720.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2015/04/23/22/00/tree-736885_960_720.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2012/03/01/00/55/garden-19830_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2012/03/01/00/55/garden-19830_960_720.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2013/08/20/15/47/poppies-174276_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2013/08/20/15/47/poppies-174276_960_720.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2014/09/14/18/04/dandelion-445228_960_720.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\n// export default galleryItems;\n","import galleryItems from './app.js';\n\nexport const gallery = () => {\n  const refs = {\n    ulJsEl: document.querySelector('.js-gallery'),\n    // ulEl: document.querySelector('.gallery'),\n    liEl: document.querySelector('.gallery__item'),\n    // aEl: document.querySelector('gallery__link'),\n    // divLightboxEl: document.querySelector('lightbox'),\n    divJSLightboxEl: document.querySelector('.js-lightbox'),\n    closeBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\n  };\n\n  // глобальные переменные\n  const modalImageEl = refs.divJSLightboxEl.querySelector('.lightbox__image');\n  let modalIsOpen = false;\n  let imageCardNextSibling = null;\n\n  // функция добавления/создания разметки\n  function createGalleryItems(items) {\n    return items.reduce((acc, { preview, original, description }) => {\n      acc = `${acc} <li class=\"gallery__item\">\n    <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n    >\n    <img\n    class=\"gallery__image\"\n    loading=\"lazy\"\n    data-src=\"${preview}\"\n    data-source=\"${original}\"\n    alt=\"${description}\"\n    width=\"390px\"\n    higth=\"240px\"\n    />\n    </a>\n    </li>\n    `;\n      return acc;\n    }, '');\n  }\n  refs.ulJsEl.insertAdjacentHTML('beforeend', createGalleryItems(galleryItems));\n\n  //  функция делегирования addEventListener на ul\n  function onImageClick(e) {\n    // когда кликаешь на img, отменить по умолчанию перезагрузку страницы\n    // превент действует только на событии(event/e)\n    e.preventDefault(); //\n\n    if (!e.target.classList.contains('gallery__image')) {\n      return;\n    }\n\n    // console.log({ h: e.target });\n\n    openModalWindow(e.target);\n  }\n  refs.ulJsEl.addEventListener('click', onImageClick);\n\n  // функция открытия модального окна - при клике на img добавлять класс is-open и открывать модальное окно\n  function openModalWindow(target) {\n    modalIsOpen = true;\n\n    // при открытии модального окна внести данные в src and alt\n    const { source } = target.dataset;\n    const gallery = target.closest('.gallery');\n\n    imageCardNextSibling = gallery.nextElementSibling;\n    imageCardNextSibling.classList.add('is-open');\n    // console.log(imageCardNextSibling);\n\n    modalImageEl.src = source;\n    modalImageEl.alt = target.alt;\n  }\n\n  // функция закрытия модального окна - при клике по closeBtn(крестик в модалке) закрыть модальное окно\n  function closeModalWindow() {\n    if (modalIsOpen) {\n      imageCardNextSibling.classList.remove('is-open');\n      modalImageEl.src = '';\n      modalImageEl.alt = '';\n\n      modalIsOpen = false;\n    }\n  }\n  refs.closeBtn.addEventListener('click', closeModalWindow);\n\n  //функция закрытия модального окна - при клике по оверлею\n  function clickToOverlay(e) {\n    if (e.target.classList.contains('lightbox__overlay')) {\n      closeModalWindow();\n    }\n  }\n  document.addEventListener('click', clickToOverlay);\n\n  // функция закрытия модального окна - при клике по клавише ESC\n  function keydownToEsc(e) {\n    if (e.keyCode === 27) {\n      closeModalWindow();\n    }\n  }\n  window.addEventListener('keydown', keydownToEsc);\n\n  // функция пролистывания галереи - при клике по клавише ArrowRight и ArrowLeft\n  function keydownToArrowRightAndLeft(e) {\n    const clickToLeftArrow = e.keyCode === 37;\n    const clickToRightArrow = e.keyCode === 39;\n\n    if (modalIsOpen && (clickToLeftArrow || clickToRightArrow)) {\n      const { src } = modalImageEl;\n      const foundIndex = galleryItems.findIndex(item => item.original === src);\n      let item = null;\n\n      if (foundIndex === 0 && clickToLeftArrow) {\n        item = galleryItems[galleryItems.length - 1];\n      } else if (foundIndex === galleryItems.length - 1 && clickToRightArrow) {\n        item = galleryItems[0];\n      } else if (clickToLeftArrow) {\n        item = galleryItems[foundIndex - 1];\n      } else {\n        item = galleryItems[foundIndex + 1];\n      }\n\n      if (item) {\n        modalImageEl.src = item.original;\n        modalImageEl.alt = item.description;\n      }\n    }\n  }\n  window.addEventListener('keydown', keydownToArrowRightAndLeft);\n\n  // функция lazyload с поддержкой нативной и библиотеки\n  function addSrcAttrToLazyImages() {\n    // attr - attribute\n    const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\n\n    // ленивая загрузка - проверка загружаемости картинок\n    lazyImages.forEach(image => image.addEventListener('load', onImageLoaded, { once: true }));\n    function onImageLoaded(e) {\n      console.log('Картинка загрузилась');\n    }\n\n    lazyImages.forEach(img => {\n      img.src = img.dataset.src;\n    });\n  }\n  function addLazySizesScript() {\n    const script = document.createElement('script');\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js';\n    script.integrity =\n      'sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==';\n    script.crossorigin = 'anonymous';\n    script.referrerpolicy = 'no-referrer';\n\n    document.body.appendChild(script);\n  }\n  // feature detection js(выявление возможностей браузера)\n  if ('loading' in HTMLImageElement.prototype) {\n    console.log('Браузер поддерживает lazyload');\n    addSrcAttrToLazyImages();\n  } else {\n    console.log('Браузер НЕ поддерживает lazyload');\n    addLazySizesScript();\n  }\n};\n// ------------------------------------------------------------------------\n// второй вариант решения - от Димы ментора\n// const refs = {\n//   gallery: document.querySelector('.gallery'),\n//   modal: document.querySelector('.js-lightbox'),\n//   modalImg: document.querySelector('.lightbox__image'),\n//   closeBtn: document.querySelector('[data-action=close-lightbox]'),\n// };\n\n// let activeIndex = 0;\n\n// const makeGalleryMarkup = ({\n//   preview,\n//   original,\n//   description,\n// }) => `<li class=\"gallery__item\">\n//   <a\n//     class=\"gallery__link\"\n//     href='${original}'\n//   >\n//     <img\n//       class=\"gallery__image\"\n//       src='${preview}'\n//       data-source='${original}'\n//       alt='${description}'\n//     />\n//   </a>\n// </li>`;\n\n// const markup = galleryItems.map(makeGalleryMarkup);\n\n// refs.gallery.insertAdjacentHTML('beforeend', markup.join(''));\n\n// function onOpenModal(e) {\n//   e.preventDefault();\n\n//   if (e.target.nodeName !== 'IMG') {\n//     return;\n//   }\n\n//   markup.forEach((el, index) => {\n//     if (el.includes(e.target.src)) {\n//       activeIndex = index;\n//     }\n//   });\n//   console.log(activeIndex);\n\n//   window.addEventListener('keydown', keyboardManipulation);\n\n//   refs.modal.classList.add('is-open');\n//   refs.modalImg.src = e.target.dataset.source;\n//   refs.modalImg.alt = e.target.alt;\n// }\n// refs.gallery.addEventListener('click', onOpenModal);\n\n// function closeModal() {\n//   refs.modal.classList.remove('is-open');\n\n//   window.removeEventListener('keydown', keyboardManipulation);\n\n//   refs.modalImg.src = '#';\n//   refs.modalImg.alt = '';\n// }\n\n// function onModalClose(e) {\n//   if (e.target.nodeName === 'IMG') {\n//     return;\n//   }\n//   closeModal();\n// }\n// refs.modal.addEventListener('click', onModalClose);\n\n// function keyboardManipulation({ key }) {\n//   switch (key) {\n//     case galleryItems.length - 1 > activeIndex && 'ArrowRight':\n//       activeIndex += 1;\n//       refs.modalImg.src = galleryItems[activeIndex].original;\n//       break;\n\n//     case activeIndex > 0 && 'ArrowLeft':\n//       activeIndex -= 1;\n//       refs.modalImg.src = galleryItems[activeIndex].original;\n//       break;\n\n//     case activeIndex === galleryItems.length - 1 && 'ArrowRight':\n//       activeIndex = 0;\n//       refs.modalImg.src = galleryItems[activeIndex].original;\n//       break;\n\n//     case activeIndex === 0 && 'ArrowLeft':\n//       activeIndex = galleryItems.length - 1;\n//       refs.modalImg.src = galleryItems[activeIndex].original;\n//       break;\n\n//     case 'Escape':\n//       closeModal();\n//       break;\n\n//     default:\n//       alert('что-то пошло не так');\n//   }\n// }\n","import { gallery } from './js/gallery';\nimport './sass/main.scss';\n\ngallery();\n"]}